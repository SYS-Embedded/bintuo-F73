
#include "Initial.h"

/**************************************************
**************************************************/
/**************************************************
*ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ£ï¿½void  Sys_Init(void) 
*ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü£ï¿½ÏµÍ³ï¿½ï¿½Ê¼ï¿½ï¿½
*ï¿½ï¿½Ú²ï¿½ï¿½ï¿½ï¿½ï¿½void
*ï¿½ï¿½ï¿½Ú²ï¿½ï¿½ï¿½ï¿½ï¿½void  
**************************************************/
void  Sys_Init(void)
{	
	_pf =   0b00100000;
	_pfc =  0b00100000;
	_pfpu = 0b00100000;
	
	_pe =   0b00000000;
	_pec =  0b00000000;
	_pepu = 0b00000000;
	
	_pac =  0b00001001;
	_pa =   0b00001001;
	_papu = 0b00001001;

	_pbc =  0b00001111;
	_pb =   0b00001111;
	_pbpu = 0b00001100;
	
	_pc =   0b00000000;
	_pcc =  0b00000000;
	_pcpu = 0b00000000;
	
	_pd =   0b00000000;
	_pdc =  0b00000000;
	_pdpu = 0b00000000;
	
	//_lvrc=0b00110011;//ï¿½ï¿½2.55V
	_lvrc=0b01010101;//ï¿½ï¿½2.1V
	/*
		Bit 7~0 LVS7~LVS0ï¿½ï¿½ LVR ï¿½ï¿½Ñ¹Ñ¡ï¿½ï¿½
			01010101ï¿½ï¿½ 2.1V
			00110011ï¿½ï¿½ 2.55V
			10011001ï¿½ï¿½ 3.15V
			10101010ï¿½ï¿½ 3.8V
	*/
	_lvdc=0b00011001;//ï¿½ï¿½2.2V
	/*
		Bit 7~6 Î´ï¿½ï¿½ï¿½å£¬ï¿½ï¿½Îªï¿½ï¿½0ï¿½ï¿½
		Bit 5 LVDOï¿½ï¿½LVD ï¿½ï¿½ï¿½ï¿½ï¿½Ö¾Î?
			0ï¿½ï¿½Î´ï¿½ï¿½âµ½ï¿½Íµï¿½Ñ?
			1ï¿½ï¿½ï¿½ï¿½âµ½ï¿½Íµï¿½Ñ?
		Bit 4 LVDENï¿½ï¿½ï¿½Íµï¿½Ñ¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Î»
			0ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
			1ï¿½ï¿½Ê¹ï¿½ï¿½
		Bit 3 VBGENï¿½ï¿½Bandgap ï¿½ï¿½Ñ¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Î?
			0ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
			1ï¿½ï¿½Ê¹ï¿½ï¿½
		×¢ï¿½â£¬ï¿½ï¿½ LVD ï¿½ï¿½ LVR Ê¹ï¿½Ü»ï¿½ VBGEN ï¿½ï¿½Î»Ê±ï¿½ï¿½Bandgap ï¿½ï¿½ï¿½Ô¶ï¿½Ê¹ï¿½Ü¡ï¿½
			Bit 2~0 VLVD2~VLVD0ï¿½ï¿½Ñ¡ï¿½ï¿½ LVD ï¿½ï¿½Ñ¹Î»
			000ï¿½ï¿½2.0V
			001ï¿½ï¿½2.2V
			010ï¿½ï¿½2.4V
			011ï¿½ï¿½2.7V
			100ï¿½ï¿½3.0V
			101ï¿½ï¿½3.3V
			110ï¿½ï¿½3.6V
			111ï¿½ï¿½4.0V
	*/
	_wdtc=0b01010111;
	/*
		Bit 7~3 WE4~WE0ï¿½ï¿½ WDT ï¿½ï¿½ï¿½Ü¿ï¿½ï¿½ï¿½
		01010 ï¿½ï¿½ 10101ï¿½ï¿½Ê¹ï¿½ï¿½
		ï¿½ï¿½ï¿½ï¿½Öµï¿½ï¿½ï¿½ï¿½Æ¬ï¿½ï¿½ï¿½ï¿½Î»
		ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ú²ï¿½ï¿½ï¿½ï¿½Ä»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê¹ï¿½ï¿½Ð©Î»ï¿½ï¿½Îªï¿½ï¿½ï¿½ï¿½Öµï¿½ï¿½ï¿½ï¿½Æ¬ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Î»ï¿½ï¿½ï¿½ï¿½Î»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿?
		ï¿½ï¿½ tSRESET ï¿½Ó³ï¿½Ê±ï¿½ï¿½ï¿½ï¿½ï¿?CTRL ï¿½Ä´ï¿½ï¿½ï¿½ï¿½ï¿½ WRF Î»ï¿½ï¿½ï¿½ï¿½Îªï¿½ï¿½ 1ï¿½ï¿½ï¿½ï¿½
		Bit 2~0 WS2~WS0ï¿½ï¿½ WDT ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?
		000ï¿½ï¿½ 28/fSUB
		001ï¿½ï¿½ 210/fSUB
		010ï¿½ï¿½ 212/fSUB
		011ï¿½ï¿½ 214/fSUB
		100ï¿½ï¿½ 215/fSUB
		101ï¿½ï¿½ 216/fSUB
		110ï¿½ï¿½ 217/fSUB
		111ï¿½ï¿½ 218/fSUB
	*/
	_ifs0=0b00000000;
	/*
		Bit 7~6 Î´ï¿½ï¿½ï¿½å£¬ï¿½ï¿½Îªï¿½ï¿½0ï¿½ï¿½
		Bit 5~4 IFS05~IFS04ï¿½ï¿½SCS ï¿½ï¿½ï¿½ï¿½Ô´ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½
			00ï¿½ï¿½PA2
			01ï¿½ï¿½PA3
			10ï¿½ï¿½PA2
			11ï¿½ï¿½PA3
		Bit 3~2 IFS03~IFS02ï¿½ï¿½PTPI ï¿½ï¿½ï¿½ï¿½Ô´ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½
			00ï¿½ï¿½PB2
			01ï¿½ï¿½PB4
			10ï¿½ï¿½PB2
			11ï¿½ï¿½PB4
		Bit 1~0 IFS01~IFS00ï¿½ï¿½STPI ï¿½ï¿½ï¿½ï¿½Ô´ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½
			00ï¿½ï¿½PE2
			01ï¿½ï¿½PE3
			10ï¿½ï¿½PE2
			11ï¿½ï¿½PE3
	*/
	_ifs1=0b00000000;
	/*
		Bit 7~6 Î´ï¿½ï¿½ï¿½å£¬ï¿½ï¿½Îªï¿½ï¿½0ï¿½ï¿½
		Bit 5~4 IFS15~ IFS14ï¿½ï¿½SDI/SDA ï¿½ï¿½ï¿½ï¿½Ô´ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½
			00ï¿½ï¿½PB0
			01ï¿½ï¿½PA5
			10ï¿½ï¿½PB0
			11ï¿½ï¿½PA5
		Bit 3~2 IFS13~ IFS12ï¿½ï¿½SCK/SCL ï¿½ï¿½ï¿½ï¿½Ô´ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½
			00ï¿½ï¿½PB1
			01ï¿½ï¿½PB1
			10ï¿½ï¿½PA1
			11ï¿½ï¿½PA1
		Bit 1~0 IFS11~ IFS10ï¿½ï¿½RX ï¿½ï¿½ï¿½ï¿½Ô´ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½
			00ï¿½ï¿½PB3
			01ï¿½ï¿½PB3
			10ï¿½ï¿½PA1
			11ï¿½ï¿½PA1
	*/
	_pas0=0b00000000;
	_pas1=0b00000000;
	_pbs0=0b00001111;//AN1,AN0
	/*
		Bit 7~6 PBS07~PBS06ï¿½ï¿½PB3 ï¿½ï¿½ï¿½Å¹ï¿½ï¿½Ã¹ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½
			00ï¿½ï¿½PB3
			01ï¿½ï¿½RX
			10ï¿½ï¿½PB3
			11ï¿½ï¿½AN3
		Bit 5~4 PBS05~PBS04ï¿½ï¿½PB2 ï¿½ï¿½ï¿½Å¹ï¿½ï¿½Ã¹ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½
			00ï¿½ï¿½PB2/PTPI
			01ï¿½ï¿½TX
			10ï¿½ï¿½PTP
			11ï¿½ï¿½AN2
		Bit 3~2 PBS03~PBS02ï¿½ï¿½PB1 ï¿½ï¿½ï¿½Å¹ï¿½ï¿½Ã¹ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½
			00ï¿½ï¿½PB1
			01ï¿½ï¿½SCK/SCL
			10ï¿½ï¿½PB1
			11ï¿½ï¿½AN1
		Bit 1~0 PBS01~PBS00ï¿½ï¿½PB0 ï¿½ï¿½ï¿½Å¹ï¿½ï¿½Ã¹ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½
			00ï¿½ï¿½PB0
			01ï¿½ï¿½SDI/SDA
			10ï¿½ï¿½VREF
			11ï¿½ï¿½AN0
	*/
	_pbs1=0b00000000;
	_pcs0=0b00000000;
	_pcs1=0b00000000;
	_pds0=0b00000000;
	_pds1=0b00000000;
	_pes0=0b00000000;
	_pes1=0b00000000;
	_pfs0=0b00000000;
	_pfs1=0b00000000;
	_pmps=0b00000000;
	_pans=0b00000000;
	/*
		Bit 7 PANS7ï¿½ï¿½PA7 ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?( NMOS ï¿½ï¿½ï¿½ï¿½ )
			0ï¿½ï¿½Level 0 ( ï¿½ï¿½Ð¡ )
			1ï¿½ï¿½Level 1 ( ï¿½ï¿½ï¿?)
		Bit 6 PANS6ï¿½ï¿½PA6 ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?( NMOS ï¿½ï¿½ï¿½ï¿½ )
			0ï¿½ï¿½Level 0 ( ï¿½ï¿½Ð¡ )
			1ï¿½ï¿½Level 1 ( ï¿½ï¿½ï¿?)
		Bit 5 PANS5ï¿½ï¿½PA5 ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?( NMOS ï¿½ï¿½ï¿½ï¿½ )
			0ï¿½ï¿½Level 0 ( ï¿½ï¿½Ð¡ )
			1ï¿½ï¿½Level 1 ( ï¿½ï¿½ï¿?)
		Bit 4~2 Î´ï¿½ï¿½ï¿½å£¬ï¿½ï¿½Îªï¿½ï¿½0ï¿½ï¿½
		Bit 1 PANS1ï¿½ï¿½PA1 ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?( NMOS ï¿½ï¿½ï¿½ï¿½ )
			0ï¿½ï¿½Level 0 ( ï¿½ï¿½Ð¡ )
			1ï¿½ï¿½Level 1 ( ï¿½ï¿½ï¿?)
		Bit 0 Î´ï¿½ï¿½ï¿½å£¬ï¿½ï¿½Îªï¿½ï¿½0
	*/
	_pens=0b00000000;
	/*
		Bit 7 PENS7ï¿½ï¿½PE7 ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?( NMOS ï¿½ï¿½ï¿½ï¿½ )
			0ï¿½ï¿½Level 0 ( ï¿½ï¿½Ð¡ )
			1ï¿½ï¿½Level 1 ( ï¿½ï¿½ï¿?)
		Bit 6 PENS6ï¿½ï¿½PE6 ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?( NMOS ï¿½ï¿½ï¿½ï¿½ )
			0ï¿½ï¿½Level 0 ( ï¿½ï¿½Ð¡ )
			1ï¿½ï¿½Level 1 ( ï¿½ï¿½ï¿?)
		Bit 5~0 Î´ï¿½ï¿½ï¿½å£¬ï¿½ï¿½Îªï¿½ï¿½0ï¿½ï¿½
	*/
	_pfns=0b00000000;
	/*
		Bit 7~6 Î´ï¿½ï¿½ï¿½å£¬ï¿½ï¿½Îªï¿½ï¿½0ï¿½ï¿½
		Bit 5 PFNS5ï¿½ï¿½PF5 ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?( NMOS ï¿½ï¿½ï¿½ï¿½ )
			0ï¿½ï¿½Level 0 ( ï¿½ï¿½Ð¡ )
			1ï¿½ï¿½Level 1 ( ï¿½ï¿½ï¿?)
		Bit 4 PFNS4ï¿½ï¿½PF4 ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?( NMOS ï¿½ï¿½ï¿½ï¿½ )
			0ï¿½ï¿½Level 0 ( ï¿½ï¿½Ð¡ )
			1ï¿½ï¿½Level 1 ( ï¿½ï¿½ï¿?)
		Bit 3 PFNS3ï¿½ï¿½PF3 ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?( NMOS ï¿½ï¿½ï¿½ï¿½ )
			0ï¿½ï¿½Level 0 ( ï¿½ï¿½Ð¡ )
			1ï¿½ï¿½Level 1 ( ï¿½ï¿½ï¿?)
		Bit 2 PFNS2ï¿½ï¿½PF2 ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?( NMOS ï¿½ï¿½ï¿½ï¿½ )
			0ï¿½ï¿½Level 0 ( ï¿½ï¿½Ð¡ )
			1ï¿½ï¿½Level 1 ( ï¿½ï¿½ï¿?)
		Bit 1 PFNS1ï¿½ï¿½PF1 ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?( NMOS ï¿½ï¿½ï¿½ï¿½ )
			0ï¿½ï¿½Level 0 ( ï¿½ï¿½Ð¡ )
			1ï¿½ï¿½Level 1 ( ï¿½ï¿½ï¿?)
		Bit 0 PFNS0ï¿½ï¿½PF0 ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½Î?( NMOS ï¿½ï¿½ï¿½ï¿½ )
			0ï¿½ï¿½Level 0 ( ï¿½ï¿½Ð¡ )
			1ï¿½ï¿½Level 1 ( ï¿½ï¿½ï¿?)
	*/
	_sadc0 = C_ADC_CH_AB;
	/*
	Bit 7 STARTï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ A/D ×ªï¿½ï¿½Î»
		0ï¿½ï¿½1ï¿½ï¿½0ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ A/D ×ªï¿½ï¿½
		ï¿½ï¿½Î»ï¿½ï¿½ï¿½Ú³ï¿½Ê¼ï¿½ï¿½ A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½Ì¡ï¿½Í¨ï¿½ï¿½ï¿½ï¿½Î»Îªï¿½Í£ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Îªï¿½ï¿½ï¿½Ù±ï¿½ï¿½ï¿½ï¿½ã£¬ï¿½ï¿½ï¿½ï¿?
		Ê¼ï¿½ï¿½ A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½Ì¡ï¿½
	Bit 6 ADBZï¿½ï¿½A/D ×ªï¿½ï¿½Ã¦Âµï¿½ï¿½Ö¾Î»
		0ï¿½ï¿½A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Î´ï¿½ï¿½Ê¼×ªï¿½ï¿½
		1ï¿½ï¿½A/D ×ªï¿½ï¿½ï¿½ï¿½
		ï¿½ï¿½Î»ï¿½ï¿½ï¿½Ú±ï¿½ï¿½ï¿½ A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç·ï¿½ï¿½ï¿½É¡ï¿½ï¿½ï¿?START Î»ï¿½ÉµÍ±ï¿½Îªï¿½ï¿½ï¿½Ù±ï¿½Îªï¿½ï¿½Ê±ï¿½ï¿½
		ADBZ Î»Îªï¿½ß£ï¿½ï¿½ï¿½ï¿½ï¿½ A/D ×ªï¿½ï¿½ï¿½Ñ³ï¿½Ê¼ï¿½ï¿½ï¿½ï¿½A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ó£¬´ï¿½Î»ï¿½ï¿½ï¿½ï¿½ï¿½ã¡£
	Bit 5 ADCENï¿½ï¿½A/D ×ªï¿½ï¿½ï¿½ï¿½Ê¹ï¿½ï¿½ / ï¿½ï¿½ï¿½Ü¿ï¿½ï¿½ï¿½Î»
		0ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
		1ï¿½ï¿½Ê¹ï¿½ï¿½
		ï¿½ï¿½Î»ï¿½ï¿½ï¿½ï¿½ A/D ï¿½Ú²ï¿½ï¿½ï¿½ï¿½Ü¡ï¿½ï¿½ï¿½Î»ï¿½ï¿½ï¿½Ã¸ß½ï¿½Ê¹ï¿½ï¿½ A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Î»ï¿½ï¿½Îªï¿½ï¿?
		ï¿½ï¿½ï¿½Ø±ï¿½ A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½Ô½ï¿½ï¿½Í¹ï¿½ï¿½Ä¡ï¿½ï¿½ï¿½ A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü³ï¿½ï¿½ï¿½Ê±ï¿½ï¿½A/D ï¿½ï¿½ï¿½Ý¼Ä´ï¿½ï¿½ï¿½
		SADOH ï¿½ï¿½ SADOL ï¿½ï¿½ï¿½ï¿½ï¿½Ý½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ä¡£
	Bit 4 ADRFSï¿½ï¿½A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½Ý¸ï¿½Ê½Ñ¡ï¿½ï¿½Î»
		0ï¿½ï¿½A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½Ý¸ï¿½Ê½ ï¿½ï¿½ SADOH=D[11:4]; SADOL=D[3:0]
		1ï¿½ï¿½A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½Ý¸ï¿½Ê½ ï¿½ï¿½ SADOH=D[11:8]; SADOL=D[7:0]
		ï¿½ï¿½Î»ï¿½ï¿½ï¿½Æ´ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿?A/D ï¿½ï¿½ï¿½Ý¼Ä´ï¿½ï¿½ï¿½ï¿½Ðµï¿½ 12 Î» A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä¸ï¿½Ê½ï¿½ï¿½Ï¸ï¿½Ú·ï¿?
		ï¿½ï¿½ï¿½ï¿½Î¿ï¿?A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ý¼Ä´ï¿½ï¿½ï¿½ï¿½Â½Ú¡ï¿½
	Bit 3~0 SACS3~SACS0ï¿½ï¿½A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½â²¿ï¿½ï¿½ï¿½ï¿½Í¨ï¿½ï¿½Ñ¡ï¿½ï¿½Î»
		0000ï¿½ï¿½AN0
		0001ï¿½ï¿½AN1
		0010ï¿½ï¿½AN2
		0011ï¿½ï¿½AN3
		0100ï¿½ï¿½AN4
		0101ï¿½ï¿½AN5
		0110ï¿½ï¿½AN6
		0111ï¿½ï¿½AN7
		1xxxï¿½ï¿½ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ë¸¡ï¿½ï¿½
	*/
	_sadc1=0b00001011; //vdd,fsys/8
	/*
		Bit 7~5 SAINS2~SAINS0ï¿½ï¿½A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Åºï¿½Ñ¡ï¿½ï¿½Î»
			000ï¿½ï¿½ï¿½â²¿ï¿½ï¿½Ô´ ï¿½C ï¿½â²¿Ä£ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ANn
			001ï¿½ï¿½ï¿½Ú²ï¿½ï¿½ï¿½Ô´ ï¿½C ï¿½Ú²ï¿½ Bandgap ï¿½Î¿ï¿½ï¿½ï¿½Ñ¹ VBG
			010~100ï¿½ï¿½ï¿½Ú²ï¿½ï¿½ï¿½Ô´ ï¿½C ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Óµï¿½
			101~111ï¿½ï¿½ï¿½â²¿ï¿½ï¿½Ô´ ï¿½C ï¿½â²¿Ä£ï¿½ï¿½Í¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ ANn
			ï¿½ï¿½ SAINS Î»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Îªï¿½ï¿½001ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½ï¿½Ú²ï¿½Ä£ï¿½ï¿½ï¿½ÅºÅ½ï¿½ï¿½ï¿½×ªï¿½ï¿½Ê±ï¿½ï¿½ï¿½ï¿½ï¿½Ø±ï¿½Ð¡ï¿½Ä¡ï¿½
			ï¿½ï¿½Ñ¡ï¿½ï¿½×ªï¿½ï¿½ï¿½Ú²ï¿½Ä£ï¿½ï¿½ï¿½ÅºÅ£ï¿½SACS Î»ï¿½Î±ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Îªï¿½ï¿½1xxxï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½â²¿Í¨ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
			ï¿½ï¿½ï¿½ï¿½ï¿½Ú²ï¿½Ä£ï¿½ï¿½ï¿½Åºï¿½ï¿½ï¿½ï¿½Ó£ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Â²ï¿½ï¿½ï¿½Ô¤ï¿½ÚµÄºï¿½ï¿½ï¿½ï¿?
		Bit 4~3 SAVRS1~SAVRS0ï¿½ï¿½A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½Î¿ï¿½ï¿½ï¿½Ñ¹Ñ¡ï¿½ï¿½Î»
			00ï¿½ï¿½ï¿½â²¿ VREF ï¿½ï¿½ï¿½ï¿½
			01ï¿½ï¿½ï¿½Ú²ï¿½ A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô´ VDD
			1xï¿½ï¿½ï¿½â²¿ VREF ï¿½ï¿½ï¿½ï¿½
			ï¿½â¼¸Î»ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½ A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½Î¿ï¿½ï¿½ï¿½Ñ¹ï¿½ï¿½ï¿½ï¿½ SAVRS Î»ï¿½Î±ï¿½ï¿½ï¿½ï¿½ï¿½Îªï¿½ï¿½01ï¿½ï¿½ï¿½ï¿½Ñ¡ï¿½ï¿½
			ï¿½Ú²ï¿½ A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô´ï¿½ï¿½Îªï¿½Î¿ï¿½ï¿½ï¿½Ñ¹Ô´Ê±ï¿½ï¿½ï¿½ï¿½×¢ï¿½â¡£ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½Ó¦ï¿½ï¿½È?
			ï¿½ï¿½ï¿½ï¿½ TMPC ï¿½Ä´ï¿½ï¿½ï¿½ï¿½Ðµï¿½ VREFS ï¿½ï¿½ï¿½ï¿½Î»ï¿½Ô±ï¿½ï¿½ï¿½ VREF ï¿½ï¿½ï¿½Å±ï¿½ï¿½ï¿½ï¿½ï¿½Îªï¿½Î¿ï¿½ï¿½ï¿½Ñ¹ï¿½ï¿½
			ï¿½ë¡£ï¿½ï¿½ï¿½ï¿½VREF ï¿½ï¿½ï¿½ï¿½ï¿½Ïµï¿½ï¿½â²¿ï¿½ï¿½ï¿½ï¿½ï¿½Ñ¹ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ú²ï¿?A/D ×ªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô´ï¿½ï¿½ï¿½â½«
			ï¿½ï¿½ï¿½ï¿½ï¿½Þ·ï¿½Ô¤ï¿½ÚµÄ½ï¿½ï¿½ï¿½ï¿?
		Bit 2~0 SACKS2~SACKS0ï¿½ï¿½A/D ×ªï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½Ô´Ñ¡ï¿½ï¿½Î»
		000ï¿½ï¿½fSYS
		001ï¿½ï¿½fSYS/2
		010ï¿½ï¿½fSYS/4
		011ï¿½ï¿½fSYS/8
		100ï¿½ï¿½fSYS/16
		101ï¿½ï¿½fSYS/32
		110ï¿½ï¿½fSYS/64
		111ï¿½ï¿½fSYS/128
	*/
	_ptmc0 = 0b00000000;	//16M/4=4M
	/*
		Bit 7 PTPAUï¿½ï¿½PTM ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Í£ï¿½ï¿½ï¿½ï¿½Î»
			0ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
			1ï¿½ï¿½ï¿½ï¿½Í£
		Bit 6~4 PTCK2~PTCK0ï¿½ï¿½Ñ¡ï¿½ï¿½ PTM ï¿½ï¿½ï¿½ï¿½Ê±ï¿½ï¿½Î»
			000ï¿½ï¿½fSYS/4
			001ï¿½ï¿½fSYS
			010ï¿½ï¿½fH/16
			011ï¿½ï¿½fH/64
			100ï¿½ï¿½fSUB
			101ï¿½ï¿½fSUB
			110ï¿½ï¿½PTCK ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
			111ï¿½ï¿½PTCK ï¿½Â½ï¿½ï¿½ï¿½
		Bit 3 PTONï¿½ï¿½PTM ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ On/Off ï¿½ï¿½ï¿½ï¿½Î»
			0ï¿½ï¿½Off
			1ï¿½ï¿½On
		Bit 2~0 Î´ï¿½ï¿½ï¿½å£¬ï¿½ï¿½Îªï¿½ï¿½0_ton=1;
	*/
	_ptmc1 = 0b11000001;	//Timer mode, ccra clr
	
	//_ptmal = 250;			//250*0.5=125uS
	_ptmal = (500-256);	
	_ptmah = 1;	
	
	_ptmrpl = 0;			
	_ptmrph = 0;
			
	_ptmaf = 0;
	_mf2f = 1;
	_ptmae = 1;
	_mf2e = 1;
	_pton = 1;
	
	_emi = 1;	
}


void 	Work_SensorAdcRegInit(void)
{
	
	gu8v_BatLowCnt = 0;
	gu8v_BatNormalCnt = 0;
	
	gubv_AdcChannelSelect = 0;
	
	gu8v_AdSampCnt1 = 0;
	gu16v_AdcValue1 = 0;
	gu16v_AdMaxTemp1 = 0x0000;
	gu16v_AdMinTemp1 = 0xffff;
	
	gu8v_AdSampCnt2 = 0;
	gu16v_AdcValue2 = 0;
	gu16v_AdMaxTemp2 = 0x0000;
	gu16v_AdMinTemp2 = 0xffff;
	
	gu8v_AbPressureNoFullAdcCnt = 0;
	gu8v_AbPressureFullAdcCnt = 0;	
}


void 	Init_TimerReg(void)
{
	TimeFlag1.byte = 0x00;
	TimeFlag2.byte = 0x00;
	gu8v_Delay1mS = 0x00;
	gu8v_Delay1mS = 0x00;
	gu8v_Delay5mS = 0x00;
	gu8v_Delay50mS = 0x00;
	gu8v_Delay100mS = 0x00;
	gu8v_Delay500mS = 0x00;
	gu8v_Delay1S = 0x00;
}
void 	Work_StatusRegInit(void)
{
	DcfFlag1.byte = 0x00;
	WorkModeFlag.byte = 0x00;
	gu8v_ButtonOnTkDelay = 200;
	//gu16v_JiaoTiTime = C_15_M;
	//gu8v_JiaoTiMode = 0;
	gu8v_AcOffDebounce = 20;
	gu8v_PressureMode = 8;
	gu8v_LowVoltage = 0;
	gubv_PowerStatus = 0;
	gu16v_AutoModeCycle = 0;
	gubv_AbPressureFirstFull = 0;
	gubv_LockStatus = 0;
	gu8v_LockDelay60S = C_60S;
	gubv_VoliceOn = 1;
	gubv_AbPressureFull = 0;
	gubv_StaticMode = 1;
	gu8v_PreKeyDownDisTime = 0;
	
	gu16v_AbPressureLowErrTimeCmp = C_90_M;
	gu16v_AbPressureLowErrTimeCnt = 0;
	gubv_AbSensorFangQiEn = 0;
	gubv_AbSensorErrAlarmMode = 0;
	
	gu16v_FunPressureLowErrTimeCmp = C_90_M;
	gu16v_FunPressureLowErrTimeCnt = 0;
	gubv_FunSensorFangQiEn = 0;
	gubv_FunSensorErrAlarmMode = 0;

	gu8v_AbNumDisValue = 0;
	gu8v_AbNumDisCurrentValue = 0;
	gu16v_AbNumDisValueOld = 0;
	
	gubv_AbMotoOff = 0;
	gubv_FunMotoOff = 0;
	
}
////===============================================================
//// Usegu8v_Init
////===============================================================
void User_Init(void)
{
	Work_StatusRegInit();
	Work_SensorAdcRegInit();
	Init_TimerReg();
	gu8v_WorkMode = C_POWER_ON_MODE;
	gu8v_PowerOnDelay = 15;
	gubv_PowerOnReadEe = 1;
	gubv_FactoryTestMode = 0;
	gubv_CalMode = 0;
	gu8v_CalModeIndex = 0;
	gu8v_RfIdCopyTime = 100;
	DcfFlag1.byte = 0x03;//AB DCF ON
	
	drv_tm1652_init();
}

