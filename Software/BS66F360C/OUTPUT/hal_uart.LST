文件：hal_uart.c   编译器版本 HGASM 0202 页次1


   1  0000              ; Generated by holtek-gcc v3.19, Wed Jan 07 18:11:23 2026
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       with long instruction
   5  0000              ;       Multi-ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ; SFR address of long-instruction arch:
  12  0000              ;    mp0 = -1,1,0
  13  0000              ;    mp1 = 4,3,2
  14  0000              ;    mp2 = 14,13,12
  15  0000              ;    tbp = 9,7,8
  16  0000              ;    acc = 5
  17  0000              ;    pcl = 6
  18  0000              ;    status = 10
  19  0000              ;    bp = 11
  20  0000              ;    intc = 16
  21  0000              ;       
  22  0000              ;       
  23  0000              ; use 'tabrdc' instead of 'tabrd'
  24  0000              ;       
  25  0000              
  26  0000              #pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
  27  0000              ; Rebuild 718
  28  0000              
  29  0000              ir equ [2]
  30  0000              mp equ [3]
  31  0000              sbp equ [4]
  32  0000              acc equ [5]
  33  0000              bp equ [11]
  34  0000              tblp equ [7]
  35  0000              tbhp equ [9]
  36  0000              status equ [10]
  37  0000              c equ [10].0
  38  0000              ac equ [10].1
  39  0000              z equ [10].2
  40  0000              ov equ [10].3
  41  0000              cz equ [10].6
  42  0000              sc equ [10].7
  43  0000              intc equ [16]
  44  0000              
  45  0000              extern ra:byte
  46  0000              extern rb:byte
  47  0000              extern rc:byte
  48  0000              extern rd:byte
  49  0000              extern re:byte
  50  0000              extern rf:byte
  51  0000              extern rg:byte
  52  0000              extern rh:byte
  53  0000              extern _Crom2Prom:near
  54  0000              extern _Crom2PromNext:near
  55  0000              
  56  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  57  0000              @HCCINIT	.section 'data'
  58  0000              @HCCINIT0	.section 'data'
  59  0000              @BITDATASEC	 .section 'data'
文件：hal_uart.ASM 编译器版本 HGASM 0202 页次2

  60  0000              @BITDATASEC1	 .section 'data'
  61  0000              
  62  0000              #pragma debug scope 1 1
  63  0000              	extern __DELAY3:near
  64  0000              	extern __DELAYX3:near
  65  0000              	extern __DELAYX6:near
  66  0000              	extern __DELAYY5:near
  67  0000              	extern __DELAYY3:near
  68  0000              	extern _builtin_holtek_delay_2:byte
  69  0000              ___wdtc equ [34]
  70  0000              ___pfs0 equ [335]
  71  0000              ___ucr1 equ [119]
  72  0000              ___ucr2 equ [120]
  73  0000              ___brg equ [122]
  74  0000              ___usr equ [118]
  75  0000              ___intc0 equ [16]
  76  0000              ___intc1 equ [17]
  77  0000              public _uart_init
  78  0000              #pragma debug scope 2 1

  91  0000              #line 91 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
  91  0000              _uart_init .section 'code'
  91  0000              _uart_init proc
  93  0000              #line 93 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
  93  0000  0FAF        	mov a,175
  93  0001  00A2        	mov [34],a
  96  0002              #line 96 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
  96  0002  B7CF 0001   	lclr [335].7
  97  0004              #line 97 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
  97  0004  B34F 0001   	lset [335].6
 101  0006              #line 101 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 101  0006  0F30        	mov a,48
 101  0007  00F7        	mov [119],a
 109  0008              #line 109 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 109  0008  0F24        	mov a,36
 109  0009  00F8        	mov [120],a
 121  000A              #line 121 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 121  000A  0F19        	mov a,25
 121  000B  00FA        	mov [122],a
 157  000C              #line 157 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 157  000C  0F33        	mov a,51
 157  000D  00FA        	mov [122],a
 159  000E              #line 159 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 159  000E  0776        	mov a,[118]
 159  000F  0080     E  	mov ra,a
 167  0010              #line 167 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 167  0010  3010        	set [16].0
 169  0011              #line 169 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 169  0011  1F00     R  	clr _uart_tx_buffers[20]
 170  0012              #line 170 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 170  0012  1F00     R  	clr _uart_tx_buffers[21]
 171  0013              #line 171 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 171  0013  1F00     R  	clr _uart_tx_buffers[22]
 173  0014              #line 173 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 173  0014  3611        	clr [17].4
 174  0015              #line 174 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 174  0015  3011        	set [17].0
 175  0016              #line 175 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 175  0016  3578        	clr [120].2
 176  0017              #line 176 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
文件：hal_uart.c   编译器版本 HGASM 0202 页次3

 176  0017  34F8        	clr [120].1
 177  0018              #line 177 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 177  0018  33F7        	set [119].7
 178  0019              #line 178 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 178  0019  33F8        	set [120].7
 178  001A  0003        	ret
 178  001B              _uart_init endp
 178  001B              #line 178 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 178  001B              #pragma debug scope 1 1
 178  001B              public _uart_putchar
 178  001B              #pragma debug scope 3 1
 184  001B              #line 184 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 184  0000              _uart_putchar .section 'code'
 184  0000              _uart_putchar proc
 184  0000  00              local _uart_putchar_2 db 1 dup(?)	; 0,1
 184  0001              #pragma debug variable 8 3 _uart_putchar_2+0 "data"
 184  0000  0003        	ret
 184  0001              _uart_putchar endp
 184  0001              #line 184 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 184  0001              #pragma debug scope 1 1
 184  0001              public _uart_putint
 184  0001              #pragma debug scope 4 1
 227  0001              #line 227 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 227  0000              _uart_putint .section 'code'
 227  0000              _uart_putint proc
 227  0000              public _uart_putint_2
 227  0000  0002[           local _uart_putint_2 db 2 dup(?)	; 2,0
            00
            ]
 227  0002              #pragma debug variable 11 4 _uart_putint_2+0 "num"
 227  0000  0003        	ret
 227  0001              _uart_putint endp
 227  0001              #line 227 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 227  0001              #pragma debug scope 1 1
 227  0001              public _uart_puts
 227  0001              #pragma debug scope 5 1
 264  0001              #line 264 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 264  0000              _uart_puts .section 'code'
 264  0000              _uart_puts proc
 264  0000              public _uart_puts_2
 264  0000  0002[           local _uart_puts_2 db 2 dup(?)	; 2,0
            00
            ]
 264  0002              #pragma debug pointer 42 7 5
 264  0002              #pragma debug pointer 42 7 5
 264  0002              #pragma debug variable 42 5 _uart_puts_2+0 "s"
 264  0000  0003        	ret
 264  0001              _uart_puts endp
 264  0001              #line 264 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 264  0001              #pragma debug scope 1 1
 264  0001              public _Log_PrintHex8
 264  0001              #pragma debug scope 6 1
 285  0001              #line 285 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 285  0000              _Log_PrintHex8 .section 'code'
 285  0000              _Log_PrintHex8 proc
 285  0000  00              local _Log_PrintHex8_2 db 1 dup(?)	; 0,1
 285  0001              #pragma debug variable 7 6 _Log_PrintHex8_2+0 "val"
 285  0000  0003        	ret
 285  0001              _Log_PrintHex8 endp
 285  0001              #line 285 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
文件：hal_uart.c   编译器版本 HGASM 0202 页次4

 285  0001              #pragma debug scope 1 1
 285  0001              public _uart_getchar
 285  0001              #pragma debug scope 7 1
 299  0001              #line 299 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 299  0000              _uart_getchar .section 'code'
 299  0000              _uart_getchar proc
 299  0000              public _uart_getchar_2
 299  0000  0002[           local _uart_getchar_2 db 2 dup(?)	; 2,0
            00
            ]
 299  0002              #pragma debug pointer 43 8 7
 299  0002              #pragma debug pointer 43 8 7
 299  0002              #pragma debug variable 43 7 _uart_getchar_2+0 "dat"
 301  0002              #line 301 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 301  0000  3410        	clr [16].0
 302  0001              #line 302 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 302  0001  0700     R  	mov a,_uart_rx_head[0]
 302  0002  0200     R  	sub a,_uart_rx_tail[0]
 302  0003  3D0A        	sz z
 302  0004  2800     R  	jmp _L8
 305  0005              #line 305 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 305  0005  0F00     R  	mov a,low offset _uart_rx_buffer
 305  0006  0300     R  	add a,_uart_rx_tail[0]
 305  0007  0083        	mov mp,a
 305  0008  0F00     R  	mov a,high offset _uart_rx_buffer
 305  0009  1F04        	clr sbp
 305  000A  1384        	adcm a,sbp
 305  000B              	fcall _Crom2Prom
 305  0012  0080     E  	mov ra,a
 305  0013  0700     R  	mov a,_uart_getchar_2[0]
 305  0014  0083        	mov mp,a
 305  0015  0700     R  	mov a,_uart_getchar_2[1]
 305  0016  0084        	mov sbp,a
 305  0017  0700     E  	mov a,ra
 305  0018  0082        	mov ir,a
 306  0019              #line 306 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 306  0019  0F01        	mov a,1
 306  001A  0300     R  	add a,_uart_rx_tail[0]
 306  001B  0080     E  	mov rb,a
 306  001C  0F00        	mov a,0
 306  001D  1F00     E  	clr rc
 306  001E  1380     E  	adcm a,rc
 306  001F  0700     E  	mov a,rb
 306  0020  0E0F        	and a,15
 306  0021  0080     R  	mov _uart_rx_tail[0],a
 307  0022              #line 307 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 307  0022  0F01        	mov a,1
 307  0023  0080     E  	mov ra,a
 307  0024  2800     R  	jmp _L7
 307  0025              _L8:
 300  0025              #line 300 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 300  0025  1F00     E  	clr ra
 300  0026              _L7:
 309  0026              #line 309 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 309  0026  3010        	set [16].0
 311  0027              #line 311 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 311  0027  0700     E  	mov a,ra
 311  0028  0003        	ret
 311  0029              _uart_getchar endp
 311  0029              #line 311 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
文件：hal_uart.c   编译器版本 HGASM 0202 页次5

 311  0029              #pragma debug scope 1 1
 311  0029              ___txr_rxr equ [121]
 311  0029              public _hal_uart_sendisr
 311  0029              #pragma debug scope 8 1
 318  0029              #line 318 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 318  0000              _hal_uart_sendisr .section 'code'
 318  0000              _hal_uart_sendisr proc
 318  0000  00              local _hal_uart_sendisr_2 db 1 dup(?)	; 0,1
 318  0000  0080     R  	mov _hal_uart_sendisr_2[0],a
 318  0001              #pragma debug variable 8 8 _hal_uart_sendisr_2+0 "byte"
 324  0001              #line 324 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 324  0001  0700     R  	mov a,_uart_tx_buffers[22]
 324  0002  0080     E  	mov ra,a
 324  0003  0F13        	mov a,19
 324  0004  0200     E  	sub a,ra
 324  0005  3C0A        	sz c
 324  0006  2800     R  	jmp _L11
 324  0007              _L16:
 324  0007  2800     R  	jmp _L16
 324  0008              _L11:
 334  0008              #line 334 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 334  0008  0700     R  	mov a,_uart_tx_buffers[20]
 334  0009  0080     E  	mov rb,a
 334  000A  0F00     R  	mov a,low offset _uart_tx_buffers
 334  000B  0300     E  	add a,rb
 334  000C  0083        	mov mp,a
 334  000D  0F00     R  	mov a,high offset _uart_tx_buffers
 334  000E  1F04        	clr sbp
 334  000F  1384        	adcm a,sbp
 334  0010  0700     R  	mov a,_hal_uart_sendisr_2[0]
 334  0011  0082        	mov ir,a
 335  0012              #line 335 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 335  0012  1480     E  	inc rb
 336  0013              #line 336 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 336  0013  0F13        	mov a,19
 336  0014  0200     E  	sub a,rb
 336  0015  380A        	snz c
 336  0016  2800     R  	jmp _L13
 335  0017              #line 335 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 335  0017  0700     E  	mov a,rb
 335  0018  0080     R  	mov _uart_tx_buffers[20],a
 335  0019  2800     R  	jmp _L14
 335  001A              _L13:
 338  001A              #line 338 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 338  001A  1F00     R  	clr _uart_tx_buffers[20]
 338  001B              _L14:
 340  001B              #line 340 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 340  001B  3410        	clr [16].0
 341  001C              #line 341 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 341  001C  1480     E  	inc ra
 341  001D  0700     E  	mov a,ra
 341  001E  0080     R  	mov _uart_tx_buffers[22],a
 342  001F              #line 342 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 342  001F  3010        	set [16].0
 345  0020              #line 345 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 345  0020  1700     E  	sdza ra
 345  0021  2800     R  	jmp _L10
 351  0022              #line 351 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 351  0022  0776        	mov a,[118]
 351  0023  0080     E  	mov ra,a
文件：hal_uart.c   编译器版本 HGASM 0202 页次6

 353  0024              #line 353 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 353  0024  0F00     R  	mov a,low offset _uart_tx_buffers
 353  0025  0300     R  	add a,_uart_tx_buffers[21]
 353  0026  0083        	mov mp,a
 353  0027  0F00     R  	mov a,high offset _uart_tx_buffers
 353  0028  1F04        	clr sbp
 353  0029  1384        	adcm a,sbp
 353  002A              	fcall _Crom2Prom
 353  0031  00F9        	mov [121],a
 357  0032              #line 357 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 357  0032  3078        	set [120].0
 357  0033              _L10:
 357  0033  0003        	ret
 357  0034              _hal_uart_sendisr endp
 357  0034              #line 357 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 357  0034              #pragma debug scope 1 1
 357  0034              public _UART_ISR
 357  0034              #pragma debug scope 9 1
 368  0034              #line 368 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 368  0034              rombank 0 @UART_ISR_code
 368  0000              @UART_ISR_code .section at 16 'code'
 368  0000  0080     E  	mov r1,a
 368  0001  070B        	mov a,bp
 368  0002  1F0B        	clr bp
 368  0003  2800     R  	jmp _UART_ISR
 368  0004              ROMBANK 0 _UART_ISR
 368  0004              #pragma debug scope 1 1
 368  0004              @dummy16 endp
 368  0004              #pragma debug scope 10 1
 368  0000              _UART_ISR .section 'code'
 368  0000              _UART_ISR proc
 368  0000  0003[       local _UART_ISR_2 db 3 dup(?)
            00
            ]
 368  0000  0080     E  	mov r2,a
 368  0001  070A        	mov a, status
 368  0002  0080     E  	mov r3,a
 368  0003  0703        	mov a,mp
 368  0004  0080     E  	mov r4,a
 368  0005  0704        	mov a,sbp
 368  0006  0080     E  	mov r5,a
 368  0007  0707        	mov a,tblp
 368  0008  0080     E  	mov r6,a
 368  0009  0709        	mov a,tbhp
 368  000A  0080     E  	mov r7,a
 368  000B              #pragma debug variable 8 10 _UART_ISR_2+2 "status"
 368  000B              #pragma debug variable 8 10 _UART_ISR_2+1 "data"
 368  000B              #pragma debug variable 8 10 _UART_ISR_2+0 "next_head"
 375  000B              #line 375 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 375  000B  0776        	mov a,[118]
 375  000C  0080     R  	mov _UART_ISR_2[2],a
 376  000D              #line 376 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 376  000D  3800     R  	snz _UART_ISR_2[2].2
 376  000E  2800     R  	jmp _L19
 379  000F              #line 379 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 379  000F  0776        	mov a,[118]
 379  0010  0080     R  	mov _UART_ISR_2[2],a
 381  0011              #line 381 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 381  0011  0779        	mov a,[121]
 381  0012  0080     R  	mov _UART_ISR_2[1],a
文件：hal_uart.c   编译器版本 HGASM 0202 页次7

 383  0013              #line 383 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 383  0013  0F01        	mov a,1
 383  0014  0300     R  	add a,_uart_rx_head[0]
 383  0015  0080     E  	mov rb,a
 383  0016  0F00        	mov a,0
 383  0017  1F00     E  	clr rc
 383  0018  1380     E  	adcm a,rc
 383  0019  0700     E  	mov a,rb
 383  001A  0E0F        	and a,15
 383  001B  0080     R  	mov _UART_ISR_2[0],a
 384  001C              #line 384 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 384  001C  0700     R  	mov a,_UART_ISR_2[0]
 384  001D  0200     R  	sub a,_uart_rx_tail[0]
 384  001E  3D0A        	sz z
 384  001F  2800     R  	jmp _L19
 386  0020              #line 386 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 386  0020  0F00     R  	mov a,low offset _uart_rx_buffer
 386  0021  0300     R  	add a,_uart_rx_head[0]
 386  0022  0083        	mov mp,a
 386  0023  0F00     R  	mov a,high offset _uart_rx_buffer
 386  0024  1F04        	clr sbp
 386  0025  1384        	adcm a,sbp
 386  0026  0700     R  	mov a,_UART_ISR_2[1]
 386  0027  0082        	mov ir,a
 387  0028              #line 387 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 387  0028  0700     R  	mov a,_UART_ISR_2[0]
 387  0029  0080     R  	mov _uart_rx_head[0],a
 387  002A              _L19:
 392  002A              #line 392 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 392  002A  3800     R  	snz _UART_ISR_2[2].0
 392  002B  2800     R  	jmp _L21
 395  002C              #line 395 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 395  002C  1E00     R  	snz _uart_tx_buffers[22]
 395  002D  2800     R  	jmp _L22
 397  002E              #line 397 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 397  002E  1480     R  	inc _uart_tx_buffers[21]
 398  002F              #line 398 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 398  002F  0F13        	mov a,19
 398  0030  0200     R  	sub a,_uart_tx_buffers[21]
 398  0031  3C0A        	sz c
 398  0032  2800     R  	jmp _L23
 400  0033              #line 400 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 400  0033  1F00     R  	clr _uart_tx_buffers[21]
 400  0034              _L23:
 403  0034              #line 403 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 403  0034  1780     R  	sdz _uart_tx_buffers[22]
 403  0035  2800     R  	jmp _LI1
 403  0036  2800     R  	jmp _L22
 403  0037              _LI1:
 409  0037              #line 409 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 409  0037  0776        	mov a,[118]
 409  0038  0080     R  	mov _UART_ISR_2[2],a
 410  0039              #line 410 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 410  0039  0F00     R  	mov a,low offset _uart_tx_buffers
 410  003A  0300     R  	add a,_uart_tx_buffers[21]
 410  003B  0083        	mov mp,a
 410  003C  0F00     R  	mov a,high offset _uart_tx_buffers
 410  003D  1F04        	clr sbp
 410  003E  1384        	adcm a,sbp
 410  003F              	fcall _Crom2Prom
文件：hal_uart.c   编译器版本 HGASM 0202 页次8

 410  0046  00F9        	mov [121],a
 410  0047  2800     R  	jmp _L21
 410  0048              _L22:
 423  0048              #line 423 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 423  0048  3478        	clr [120].0
 423  0049              _L21:
 430  0049              #line 430 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 430  0049  3611        	clr [17].4
 430  004A  0700     E  	mov a,r2
 430  004B  008B        	mov bp,a
 430  004C  0700     E  	mov a,r3
 430  004D  008A        	mov status,a
 430  004E  0700     E  	mov a,r4
 430  004F  0083        	mov mp,a
 430  0050  0700     E  	mov a,r5
 430  0051  0084        	mov sbp,a
 430  0052  0700     E  	mov a,r6
 430  0053  0087        	mov tblp,a
 430  0054  0700     E  	mov a,r7
 430  0055  0089        	mov tbhp,a
 430  0056  1D05        	tabrdc acc
 430  0057  0700     E  	mov a,r1
 430  0058  0004        	reti
 430  0059              _UART_ISR endp
 430  0059              
 430  0059              #line 430 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
 430  0059              #pragma debug scope 1 1
 430  0000              @HCCINIT0_uart_tx_buffers .section 'data'
 430  0000  0017[       _uart_tx_buffers	db 23 dup(0)
            00
            ]
 430  0017              #pragma debug struct_end
 430  0017              #pragma debug struct_end
 430  0017              #pragma debug variable 44 1 _uart_tx_buffers "uart_tx_buffers"
 430  0017              
 430  0000              @HCCINIT .section 'data'
 430  0000              @HCCINIT	.section 'data'
  11  0000              #line 11 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
  11  0000              @HCCINIT_uart_rx_tail .section 'data'
  11  0000              _uart_rx_tail label byte
  11  0000              #pragma debug variable 8 1 _uart_rx_tail "uart_rx_tail"
  11  0000              	db 0
  11  0000              @ROMDATA_BASE .section inpage 'code'
  11  0000              	db 0
  11  0001              @HCCINIT_uart_rx_tail .section 'data'
  10  0001              #line 10 "D:\Work\Project\bintuo-F73\Software\BS66F360C\Source\ming\hal_uart.c"
  10  0000              @HCCINIT_uart_rx_head .section 'data'
  10  0000              _uart_rx_head label byte
  10  0000              #pragma debug variable 8 1 _uart_rx_head "uart_rx_head"
  10  0000              	db 0
  10  0001              @ROMDATA_BASE .section inpage 'code'
  10  0001              	db 0
  10  0001              @HCCINIT_uart_rx_head .section 'data'
  10  0000              @HCCINIT0_uart_rx_buffer .section 'data'
  10  0000  0010[       _uart_rx_buffer	db 16 dup(0)
            00
            ]
  10  0010              #pragma debug array 45 8 16 1
  10  0010              #pragma debug array 45 8 16 1
  10  0010              #pragma debug variable 45 1 _uart_rx_buffer "uart_rx_buffer"
文件：hal_uart.c   编译器版本 HGASM 0202 页次9

  10  0010              
  10  0000              @HCCINIT .section 'data'
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug variable 47 1 ___intc0 "__intc0" 1
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug variable 49 1 ___intc1 "__intc1" 1
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug variable 51 1 ___wdtc "__wdtc" 1
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug variable 53 1 ___usr "__usr" 1
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug variable 55 1 ___ucr1 "__ucr1" 1
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug variable 57 1 ___ucr2 "__ucr2" 1
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug variable 59 1 ___txr_rxr "__txr_rxr" 1
  10  0000              #pragma debug variable 8 1 ___brg "__brg" 1
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug struct_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug union_end
  10  0000              #pragma debug variable 61 1 ___pfs0 "__pfs0" 1
  10  0000              extern r1:byte
  10  0000              extern r2:byte
  10  0000              extern r3:byte
  10  0000              extern r4:byte
  10  0000              extern r5:byte
  10  0000              extern r6:byte
  10  0000              extern r7:byte
  10  0000              
  10  0000              ; 
  10  0000              ; Generated by holtek-gcc v3.19, Wed Jan 07 18:11:23 2026
  10  0000              ; Rebuild 718
  10  0000              ; end of file


        0 Errors, 0